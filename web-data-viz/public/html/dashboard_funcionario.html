<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/dashboard-gerente.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Dashboard Funcionário | HardStock</title>

<style>

#body{
            color: black;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            color: #727272;
        }

        .card {
            color: #727272;
            border: 1px solid #727272;
            border-radius: 8px;
            padding: 16px;
            margin: 8px;
            width: auto;
            width: calc(33.333% - 32px);
            box-sizing: border-box;
        }

        .card h2 {
            margin-top: 0;
            color: #727272;
        }

        #body {
          width: 80%;
            margin-top: 50px;
} 

h1 {
  color: #000000;
  margin-bottom: 40px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

th, td {
  padding: 12px 15px;
  border: 1px solid #9e9d9d;
  text-align: left;
}

th {
  background-color: #7c7c7cf3;
  color: #fff;
  font-weight: bold;
  text-transform: uppercase;
}

tr {
  transition: background-color 0.2s ease;
}

tr:hover {
  background-color: #f1f1f1;
}

tbody tr:nth-child(even) {
  background-color: #f9f9f9;
}

tbody tr:nth-child(odd) {
  background-color: #fff;
}

tfoot {
  background-color: #f4f4f4;
  text-align: right;
}

tfoot tr td {
  font-weight: bold;
}

@media (max-width: 768px) {
  table {
      width: 100%;
  }

  th, td {
      padding: 10px 8px;
  }
} 

</style>

</head>

<body>
  <label for="sidebar-ativo" class="sideBar-open">
    <i class="fa-duotone fa-solid fa-bars"></i>
  </label>
  <input type="checkbox" id="sidebar-ativo">
  <input type="checkbox" id="catracas-hover">
  <nav id="nav">
    <div class="link-conteiner">
      <label for="sidebar-ativo" class="sideBar-close">
        <i id="close" class="fa-solid fa-xmark"></i>
      </label>
      <ul>
        <li>
          <p class="logo">
            <img src="../assets/icon/HardStock-preto.png" alt="">
            <span class="nav-item">Hardstock</span>
          </p>
        </li>
        <li><a href="../html/dashboard_tempo.html">
            <i class="fa-solid fa-chart-line"></i>
            <span class="navItem">Tempo real</span>
          </a></li>
        <li><a href="../html/dashboard_mensal.html">
            <i class="fa-solid fa-magnifying-glass-chart"></i>
            <span class="navItem">Mensal</span>
          </a>
        </li>
        <li><a href="../html/dashboard_funcionario.html" style=" background: rgb(0, 0, 0);color: #ffffff;">
          <i class="fa-solid fa-user-plus"></i>
          <span class="navItem">Funcionário</span>
        </a></li>
        <li><a href="../html/dashboard_componentes.html">
          <i class="fa-solid fa-table-list"></i>
          <span class="navItem">Componentes</span>
        </a></li>
        <div class="sair">
          <li><a href="#">
              <i class="fa-solid fa-headset"></i>
              <span class="navItem">Suporte</span>
            </a></li>
          <li>
            <a href="#">
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <span class="navItem">Sair</span>
            </a>
          </li>

        </div>
      </ul>
  </nav>
</div>

<div id="body" align="center">
  <h1>Funcionários</h1>
  <table id="orcamentos-table">
      <thead>
          <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Email</th>
              <th>Edições</th>
              <th></th>
          </tr>
          <tr>
            <th>001</th>
            <th>José Almeida</th>
            <th>josealmeida60@gmail.com</th>
            <th></th>
            <th></th>
        </tr>
        
      </thead>
      <tbody></tbody>
  </table>
  </div>

</body>

</html>


<script>
  b_usuario.innerHTML = sessionStorage.NOME_USUARIO
  document.addEventListener('DOMContentLoaded', function() {
      fetch("/questionario/buscarOrcamento", {
          method: "GET",
          headers: {
              "Content-Type": "application/json"
          }
      })
      .then(response => {
          if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
          }
          return response.json();
      })
      .then(data => {
          const tbody = document.querySelector('#orcamentos-table tbody');
          tbody.innerHTML = ''; // Clear previous content

          if (data.length === 0) {
              const row = document.createElement('tr');
              const cell = document.createElement('td');
              cell.colSpan = 5;
              cell.textContent = 'Nenhum orçamento encontrado.';
              row.appendChild(cell);
              tbody.appendChild(row);
          } else {
              data.forEach(orcamento => {
                  const row = document.createElement('tr');
                  row.innerHTML = `
                      <td>${orcamento.idOrcamento}</td>
                      <td>${orcamento.KmOrcado} km</td>
                      <td>R$ ${orcamento.CustoCombustao}</td>
                      <td>R$ ${orcamento.CustoEletrico}</td>
                      <td>R$ ${orcamento.economia}</td>
                  `;
                  tbody.appendChild(row);
              });
          }
      })
      .catch(error => {
          console.error('Houve um erro ao capturar os dados do Orcamento!', error);
      });
  });

</script>
